(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,n){e.exports=n(75)},39:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},70:function(e,t){},73:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),r=n(26),c=n.n(r),u=(n(39),n(31)),i=n(27),o=n(28),m=n(32),l=n(29),g=n(33),d=(n(41),function(e){var t=e.item;return a.a.createElement("div",{className:"message-container"},a.a.createElement("span",{className:"message"},t.user),a.a.createElement("span",{className:"message end"},t.text))}),f=(n(43),function(e){var t=e.value,n=e.onChange,s=e.onSend;return a.a.createElement("form",{onSubmit:s,className:"send-block"},a.a.createElement("input",{type:"text",value:t,onChange:n,className:"input-message"}),a.a.createElement("button",{type:"submit",className:"send"},"Send"))}),p=function(e){var t=e.users;return a.a.createElement("ul",null,Object.keys(t).map(function(e){return a.a.createElement("li",{key:e},t[e])}))},v=n(30),h=n.n(v),E=(n(73),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(m.a)(this,Object(l.a)(t).call(this,e))).setListeners=function(){n.socket=h()("https://beetchat.herokuapp.com/"),n.socket.on("connect",function(){n.socket.emit("addUser",n.state.currentUser)}),n.socket.on("message",function(e){n.state.isLogin&&n.addMessage(e)}),n.socket.on("updateUsers",function(e){n.state.isLogin&&n.addUsers(e)})},n.changeMessage=function(e){n.setState({inputMsg:e.target.value})},n.validName=function(e){return""!==e&&"Anonimus"!==e},n.inputName=function(){var e=n.div.current.value;n.validName(e)&&(n.setState({currentUser:e,isLogin:!0}),n.setListeners())},n.addMessage=function(e){n.setState(function(t){var n=t.messages;return{inputMsg:"",messages:[{user:e.name,text:e.message}].concat(Object(u.a)(n))}})},n.addUsers=function(e){n.setState({users:e})},n.sendMessage=function(e){e.preventDefault();var t=n.state,s=t.currentUser,a=t.inputMsg;a.trim().length&&(n.socket.emit("message",{name:s,message:a}),n.setState({inputMsg:""}))},n.div=a.a.createRef(),n.state={currentUser:"Anonimus",messages:[{user:"Owl",text:"test"}],inputMsg:"",isLogin:!1,users:{}},n.socket=null,n}return Object(g.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.messages,n=e.inputMsg,r=e.currentUser,c=e.isLogin,u=e.users;return c?a.a.createElement(s.Fragment,null,a.a.createElement("div",{className:"chat"},a.a.createElement("div",{className:"message-list"},a.a.createElement("div",{className:"messages"},t.map(function(e,t){return a.a.createElement(d,{item:e,key:t})}))),a.a.createElement(f,{value:n,placeholder:"write something...",onChange:this.changeMessage,onSend:this.sendMessage})),a.a.createElement(p,{users:u})):a.a.createElement("div",{className:"login"},a.a.createElement("span",null,"Welcome"),a.a.createElement("input",{ref:this.div,defaultValue:r}),a.a.createElement("button",{onClick:this.inputName},"Ok"))}}]),t}(s.Component));c.a.render(a.a.createElement(E,null),document.getElementById("root"))}},[[34,2,1]]]);
//# sourceMappingURL=main.9816eb8b.chunk.js.map